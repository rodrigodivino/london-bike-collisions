(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[44],{44:function(n,r,e){"use strict";e.r(r);var t=e(5893),o=e(7294),i=e(4799),l=e.n(i),u=e(2568),a=e(6410),c=e(1203),s=e(1169);function v(n,r){(null==r||r>n.length)&&(r=n.length);for(var e=0,t=new Array(r);e<r;e++)t[e]=n[e];return t}function d(n,r){return function(n){if(Array.isArray(n))return n}(n)||function(n,r){var e=null==n?null:"undefined"!==typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=e){var t,o,i=[],l=!0,u=!1;try{for(e=e.call(n);!(l=(t=e.next()).done)&&(i.push(t.value),!r||i.length!==r);l=!0);}catch(a){u=!0,o=a}finally{try{l||null==e.return||e.return()}finally{if(u)throw o}}return i}}(n,r)||function(n,r){if(!n)return;if("string"===typeof n)return v(n,r);var e=Object.prototype.toString.call(n).slice(8,-1);"Object"===e&&n.constructor&&(e=n.constructor.name);if("Map"===e||"Set"===e)return Array.from(e);if("Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return v(n,r)}(n,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}r.default=function(n){var r,e,i,v,f,m,y=n.data,h=n.$onShapeLegendData$,p=function(n,r){var e=2.5;return"M "+n+" "+r+" m -"+e+", 0 a "+e+","+e+" 0 1,0 5,0 a "+e+","+e+" 0 1,0 -5,0"},g=(0,o.useState)([]),x=g[0],_=g[1],b=(0,o.useRef)(null),j=d((0,a.n)(b),2),A=j[0],S=j[1],z=(0,o.useContext)(c.X)[0];(0,o.useLayoutEffect)((function(){var n,r,e,t;(null===z||void 0===z?void 0:z.zoomAnim)||((null!==(e=null===z||void 0===z||null===(n=z.mapRef)||void 0===n||null===(r=n.current)||void 0===r?void 0:r.getZoom())&&void 0!==e?e:0)>=15?_((0,u.S)((function(n){var r,e;return null!==(t=null===z||void 0===z||null===(r=z.mapRef)||void 0===r||null===(e=r.current)||void 0===e?void 0:e.project([n.Latitude,n.Longitude]))&&void 0!==t?t:{x:0,y:0}}),y)):_([]))}),[y,null===z||void 0===z?void 0:z.mapRef,null===z||void 0===z?void 0:z.zoomAnim]);var M=null!==(m=null===z||void 0===z||null===(r=z.mapRef)||void 0===r||null===(e=r.current)||void 0===e?void 0:e.project(null===z||void 0===z||null===(i=z.mapRef)||void 0===i||null===(v=i.current)||void 0===v?void 0:v.getBounds().getNorthWest()))&&void 0!==m?m:{x:0,y:0},w=(0,o.useMemo)((function(){return x.map((function(n){return{x:n.x-M.x,y:n.y-M.y,d:n}})).filter((function(n){return n.x>0&&n.x<=A&&n.y>0&&n.y<=S}))}),[x,M.x,M.y,A,S]).map((function(n){return p(n.x,n.y)})).join("");(0,o.useEffect)((function(){var n,r,e;(null!==(e=null===z||void 0===z||null===(n=z.mapRef)||void 0===n||null===(r=n.current)||void 0===r?void 0:r.getZoom())&&void 0!==e?e:0)>=15?null===h||void 0===h||h([{shape:(0,t.jsx)("svg",{width:8,height:8,children:(0,t.jsx)("g",{transform:"translate(4,4)",children:(0,t.jsx)("path",{d:p(0,0),className:l().circleMesh})})}),label:"Severe collision"}]):null===h||void 0===h||h([])}),[h,null===z||void 0===z?void 0:z.mapRef,null===z||void 0===z?void 0:z.zoomAnim]);var E=(0,s.t)(null===z||void 0===z?void 0:z.zoomAnim,null===z||void 0===z||null===(f=z.mapRef)||void 0===f?void 0:f.current).zoomAnimMimic;return(0,t.jsx)("svg",{style:E,ref:b,className:l().svg,children:(0,t.jsx)("g",{className:"".concat((null===z||void 0===z?void 0:z.zoomAnim)?l().zooming:""),children:(0,t.jsx)("g",{className:"marker",children:(0,t.jsx)("g",{children:(0,t.jsx)("path",{className:l().circleMesh,d:w})})})})})}},1169:function(n,r,e){"use strict";e.d(r,{t:function(){return t}});var t=function(n,r){if(n&&r){var e,t,o,i=r.getCenter(),l=n.center,u=n.zoom-(null!==(e=r.getZoom())&&void 0!==e?e:0),a=null!==(t=r.project(i))&&void 0!==t?t:{x:0,y:0},c=null!==(o=r.project(l))&&void 0!==o?o:{x:0,y:0},s=a.x-c.x,v=a.y-c.y;return{zoomAnimMimic:{transform:"scale(".concat(Math.pow(2,u),")translate(").concat(s,"px, ").concat(v,"px)"),transition:"transform 0.25s"},zoomAnimMimicScaleInverse:{transform:"scale(".concat(1/Math.pow(2,u),")"),transition:"transform 0.25s"}}}return{zoomAnimMimic:{transform:"translate(0,0)",transition:"transform 0s"},zoomAnimMimicScaleInverse:{transform:"translate(0,0)",transition:"transform 0s"}}}},2568:function(n,r,e){"use strict";e.d(r,{S:function(){return t}});var t=function(n,r){return r.map((function(r){var e,t=null!==(e=n(r))&&void 0!==e?e:[0,0];return{x:t.x,y:t.y,d:r}}))}},6410:function(n,r,e){"use strict";e.d(r,{n:function(){return o}});var t=e(7294),o=function(n){var r=(0,t.useState)(100),e=r[0],o=r[1],i=(0,t.useState)(100),l=i[0],u=i[1];return(0,t.useEffect)((function(){if(n.current){o(n.current.clientWidth),u(n.current.clientHeight);var r=new ResizeObserver((function(){n.current&&(o(n.current.clientWidth),u(n.current.clientHeight))}));if(!n.current.parentElement||"DIV"!==n.current.parentElement.tagName)throw new Error("useResponsiveSVG requires the SVG or Canvas to be a child of HTMLDivElement");return r.observe(n.current.parentElement),function(){r.disconnect()}}}),[n]),[e,l]}},4799:function(n){n.exports={svg:"svg-overlay_svg__rkTOR",overlay:"svg-overlay_overlay__q0mc1",zooming:"svg-overlay_zooming__JEPO_",hexbin:"svg-overlay_hexbin__rcDmd",circleMesh:"svg-overlay_circleMesh__erdyP"}}}]);